# Telegram Weather Bot
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ –≤ –ª—é–±–æ–º –≥–æ—Ä–æ–¥–µ, –∏—Å–ø–æ–ª—å–∑—É—è API OpenWeather. –ë–æ—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫ aiogram –∏ aiohttp.

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. Python 3.9 –∏ –≤—ã—à–µ
2. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python:
  - aiogram
  - aiohttp
  - aiocache
  - python-dotenv
3. API-–∫–ª—é—á–∏:
  - Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather).
  - OpenWeather API Key (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ OpenWeather –∏ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á).

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –£—Å—Ç–∞–Ω–æ–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```
2. –ù–∞—Å—Ç—Ä–æ–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:
```text
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞_–∏–∑_BotFather
API_KEY=–≤–∞—à_–∫–ª—é—á_OpenWeather
```
3. –ó–∞–ø—É—Å—Ç–∏–º –±–æ—Ç–∞
```bash
python3 weather_bot.py
```

## üßë‚Äçüíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
1. –í Telegram –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –ø–æ –∏–º–µ–Ω–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤ BotFather.
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É.
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```text
–ü–æ–≥–æ–¥–∞ –≤ –≥–æ—Ä–æ–¥–µ –ú–æ—Å–∫–≤–∞:
–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 5¬∞C
–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫: 3¬∞C
–î–∞–≤–ª–µ–Ω–∏–µ: 760 –º–º.—Ä—Ç.
–û–ø–∏—Å–∞–Ω–∏–µ: –ø–∞—Å–º—É—Ä–Ω–æ ‚òÅÔ∏è
–í–ª–∞–∂–Ω–æ—Å—Ç—å: 80%
–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞: 5 –º/—Å
```

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É–∂–±—ã
1. –°–æ–∑–¥–∞–¥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `weather_bot` –∏ –∑–∞–¥–∞–¥–∏–º –ø–∞—Ä–æ–ª—å
```bash
sudo useradd -m weather_bot
sudo passwd weather_bot
```
2. –°–æ–∑–¥–∞–¥–∏–º —Å–ª—É–∂–±—É `weather_bot.service`
<details>
  <summary>–ò—Ç–æ–≥–æ–≤–∞—è –≤–µ—Ä—Å–∏—è `/etc/systemd/system/weather_bot.service`</summary>
```bash
[Unit]
Description=Telegram Bot
After=network.target

[Service]
Type=simple
User=weather_bot
WorkingDirectory=/opt/weather_bot
ExecStart=/opt/weather_bot/venv/bin/python3 weather_bot.py
Restart=always
RestartSec=10s
StandardOutput=append:/var/log/weather_bot.log
StandardError=append:/var/log/weather_bot.log

[Install]
WantedBy=multi-user.target
```
</details>

3. –û–±–Ω–æ–≤–ª—è–µ–º systemd –∏ –≤–∫–ª—é—á–∞–µ–º —Å–µ—Ä–≤–∏—Å:
```bash
systemctl daemon-reload
systemctl enable weather_bot
systemctl start weather_bot
```
